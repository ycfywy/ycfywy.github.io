

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ycf">
  <meta name="keywords" content="">
  
    <meta name="description" content="文章概述   这篇论文题目为《An Empirical Study of Reasoning Steps in Thinking Code LLMs》，从steps count, Efficiency, Logic Consistency, Completeness的角度分析了Reasoning model在解决代码问题时的Reasoning steps的具体内容。   本文主要的贡献是：">
<meta property="og:type" content="article">
<meta property="og:title" content="An Empirical Study of Reasoning Steps in Thinking Code LLMs">
<meta property="og:url" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/index.html">
<meta property="og:site_name" content="ycf blog">
<meta property="og:description" content="文章概述   这篇论文题目为《An Empirical Study of Reasoning Steps in Thinking Code LLMs》，从steps count, Efficiency, Logic Consistency, Completeness的角度分析了Reasoning model在解决代码问题时的Reasoning steps的具体内容。   本文主要的贡献是：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-09-11.png">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-10-03.png">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-14-46.png">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-24-56.png">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-25-15.png">
<meta property="og:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-16-17-01.png">
<meta property="article:published_time" content="2025-12-27T16:39:31.000Z">
<meta property="article:modified_time" content="2025-12-29T08:50:12.934Z">
<meta property="article:author" content="ycf">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/2025-12-29-11-09-11.png">
  
  
  
  <title>An Empirical Study of Reasoning Steps in Thinking Code LLMs - ycf blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"ycfywy.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 8.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>ycf blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/images/index.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="An Empirical Study of Reasoning Steps in Thinking Code LLMs"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-12-28 00:39" pubdate>
          2025年12月28日 凌晨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          18 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">An Empirical Study of Reasoning Steps in Thinking Code LLMs</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="文章概述">文章概述</h2>
<p>  这篇论文题目为《An Empirical Study of Reasoning Steps in Thinking Code LLMs》，从steps count, Efficiency, Logic Consistency, Completeness的角度分析了Reasoning model在解决代码问题时的Reasoning steps的具体内容。</p>
<p>  本文主要的贡献是：</p>
<ul>
<li>建立了对Reasoning过程分析的标准，提出从steps count, Efficiency, Logic Consistency, Completeness入手进行分析。</li>
<li>通过对实验数据的分析，得出了一些结论：Reasoning steps好像没有什么规律，有的模型每一步思考的少但思考多步，有的模型思考的多但思考少步；在代码问题中，模型错误的原因有44.5%都是Completeness Issues（忽略边界、忽略题目中某个约束条件、只生成逻辑没有验证的代码、推理中断）</li>
</ul>
<p>但我看下来，论文数据标注和分析有很多不严谨的地方，涉及到人工标注、数据分析，可能都是如此，不像刷benchmarks那样简单直接。另一方面，文章篇幅太长了，足足36页还不加附录，可能是要投期刊所以这么长。</p>
<h2 id="研究背景">研究背景</h2>
<p>  传统的非思考型（non-thinking）LLMs在处理复杂编程任务时存在透明度不足的问题 。即使模型生成了正确的代码，其内部的推理过程（如假设、决策点）仍然是潜在的，难以进行独立验证和审计 。近期出现的“Thinking LLMs”（如 OpenAI-o1/o3、DeepSeek-R1、Claude 3.7 Sonnet-thinking 等）通过显式生成中间推理链（Reasoning Traces）来模拟人类的认知过程，有望提升代码生成的透明度和准确性 。</p>
<p>尽管这些模型表现优异，但其推理链的质量（如推理步骤的长度、逻辑严密性）尚未得到系统的评估 。</p>
<p>本文希望对LLMs在解决代码问题时的推理链进行分析，深入研究以下内容：</p>
<ul>
<li><p>RQ1：推理过程分析：研究推理链的结构特征（步骤数、词数）及其与成功率的关系 。</p></li>
<li><p>RQ2：推理质量分析：通过 21 名参与者进行的人工评估，从三个维度打分 ： 效率（Efficiency）：推理是否精炼且无冗余。 逻辑一致性（Logic Consistency）：步骤之间是否逻辑连贯。 完整性（Completeness）：是否覆盖了所有需求和边缘情况。</p></li>
</ul>
<h2 id="解决方法">解决方法</h2>
<h3 id="rq1-推理steps分析">RQ1 : 推理Steps分析</h3>
<p>针对RQ1，作者提出了几个子问题：</p>
<ul>
<li>Thinking model对每个task需要思考几步，成功的cases和失败的cases思考的次数差别大吗？</li>
<li>如果人为地增加或者缩短thinking steps，会影响成功率吗？</li>
</ul>
<p>这里直接给出结果：</p>
<ul>
<li>模型的thinking steps见Table2；思考的次数差别因模型而异，没什么规律。</li>
<li>人为增加thinking steps对简单任务的影响不大，对困难任务可能提高也可能降低；认为减少thinking steps对简单和困难任务均有影响，但是对困难任务影响大一些(只减少10%的thinking steps就会导致模型崩溃)</li>
</ul>
<h4 id="数据收集">数据收集</h4>
<p>  本文在如下的Reasoning model上收集数据。具体来说，本文从BigCodeBench这个代码测试的数据集中选取100个tasks，其中Hard tasks和Full tasks与原数据集的分布一致(分别为14% 和 86%)。随后，这些题目被送入6个测试模型中，提示词要求模型按照 &lt;&gt;&lt;&gt; …. &lt;&gt;&lt;&gt;的格式输出。最终收集了共600个回答，并统计了每个模型的Total Reasoning Steps和 Average Steps per Task， 如下图所示。 <img src="./2025-12-29-11-09-11.png" srcset="/img/loading.gif" lazyload /> <img src="./2025-12-29-11-10-03.png" srcset="/img/loading.gif" lazyload /></p>
<h3 id="数据分析">数据分析</h3>
<p>  本文对Reasoning model在困难数据集和一般数据集上的Reasoning steps做了统计，统计结果如下。对这些数据进行分析，发现在一般数据集上(对应 Full)，模型的成功率和Reasoning steps相关性趋近于0；在困难数据集上，推理的深度才发挥作用。 <img src="./2025-12-29-11-14-46.png" srcset="/img/loading.gif" lazyload /></p>
<p>  考虑人为地增加或者缩短模型的thinking steps，比如通过提示词规定，模型必须在k步内解决问题。本文对Reasong model成功解决的问题集进行了thinking steps reduce，解决失败的问题进行了thinking steps increase。根据reduce/increase的比例，每10%绘制一个散点，绘制出散点图如下： 随着thinking steps的增加，Full任务上模型表现基本不变，Hard任务上模型表现比较混乱，没什么规律。随着thinking steps的减少，Full/Hard任务上模型表现均有下降，Hard任务下降的程度更高。（说实话都没什么规律，但是作者还是强行分析了一下） <img src="./2025-12-29-11-24-56.png" srcset="/img/loading.gif" lazyload /> <img src="./2025-12-29-11-25-15.png" srcset="/img/loading.gif" lazyload /></p>
<h3 id="rq2推理质量分析">RQ2:推理质量分析</h3>
<p>针对RQ2, 作者希望从3个角度分析Reasoning Steps： 效率(推理是否精炼且无冗余) 逻辑一致性(步骤之间是否逻辑连贯) 完整性(是否覆盖了所有需求和边缘情况)。为了达到这个目的，作者构建了对Reasoning Steps中的错误的分类方法，并邀请了 21 名参与者进行数据标注。具体的实验方法和结果在下面讨论，</p>
<h4 id="人工数据标记的方法">人工数据标记的方法</h4>
<ul>
<li>人员背景：21 名标注者(14 名软件工程方向的研究生和 7 名具有 3-8 年工作经验的专业软件工程师。)所有人精通 Python，并对 LLM 推理（Chain-of-Thought）有实际使用经验。</li>
<li>标记方法：每个维度都采用 3 分制（1-Poor, 2-Fair, 3-Good）：
<ul>
<li>效率（Efficiency）：模型是否绕弯路？是否有大量重复的废话？高分标准：推理过程精炼，每一步都直接导向最终解决方案。</li>
<li>逻辑一致性（Logic Consistency）：推理步骤之间是否连贯？前面的假设和后面的操作是否矛盾？高分标准：推理链条无逻辑断裂，思维流转自然且正确。</li>
<li>完整性（Completeness）：逻辑：模型是否考虑了所有题目约束？是否分析了边缘情况？高分标准：所有的输入要求都被逐一分析，且包含了对潜在错误（如空输入、越界等）的预判。</li>
</ul></li>
<li>其他的标注标准
<ul>
<li><p>盲审：标注者不知道当前阅读的推理链是由哪个模型生成的，以消除品牌偏见。</p></li>
<li><p>基准培训：在正式标记前，所有人先共同标记几个样本，对“什么是 1 分，什么是 3 分”达成共识。</p></li>
<li><p>独立标注 ：每个推理链至少由 2 名标注者 独立打分。</p></li>
<li><p>一致性检查：使用 Cohen’s Kappa 系数计算两人打分的一致性。如果系数低（&lt;0.6），说明评分标准模糊，需重新培训。本文的 Kappa 值在 0.72-0.85 之间，属于“高度一致”。</p></li>
</ul></li>
</ul>
<h4 id="标注结果分析">标注结果分析</h4>
<p><img src="./2025-12-29-16-17-01.png" srcset="/img/loading.gif" lazyload /></p>
<ol type="1">
<li>完整性缺陷—— 占比最高 (44.5%)
<ul>
<li>推理中断 ：模型在没得出最终结论或代码计划前，推理链突然停止（可能受限于 Token 长度）。</li>
<li>缺失要求覆盖：忽略了题目中的某个特定约束或功能点。</li>
<li>忽视边界情况 ：未能考虑极端输入（如空列表、极大值、类型错误等）。</li>
<li>验证缺失 ：推理中只有生成逻辑，没有自我检查或预演代码运行结果的步骤。</li>
</ul></li>
<li>效率缺陷—— 占比 33.5%
<ul>
<li>冗余思考：模型不断重复已知信息，或者在不同的措辞下循环同一逻辑。</li>
<li>过度解释细节：在一些极其简单的逻辑（如变量赋值）上花费大量篇幅，导致推理链虚胖。</li>
<li>死胡同搜索 ：模型尝试了一种错误的思路，在意识到错误后又花了大量篇幅解释为什么错了，而不是迅速转向。</li>
</ul></li>
<li>逻辑与正确性缺陷—— 占比 22%
<ul>
<li>逻辑矛盾：推理的前后步骤相互矛盾（例如开头说用 A 算法，结尾却在写 B 算法的逻辑）。</li>
<li>事实错误 ：对编程语言语法、标准库函数的功能理解有误。</li>
<li>错误的转换：从推理计划转换为最终代码时，丢失了推理中原本正确的逻辑。</li>
</ul></li>
</ol>
<h2 id="我的思考">我的思考</h2>
<p>  该研究为我们理解“Thinking LLMs”提供了一些启示 ：推理长度不是唯一指标：步数多不代表质量高。完整性是核心瓶颈：目前模型在代码生成中最弱的环节是未能完全分析所有约束和边缘情况（特别是难题） 。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>An Empirical Study of Reasoning Steps in Thinking Code LLMs</div>
      <div>https://ycfywy.github.io/2025/12/28/An-Empirical-Study-of-Reasoning-Steps-in-Thinking-Code-LLMs/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>ycf</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年12月28日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/12/25/FOCUSED-CHAIN-OF-THOUGHT-EFFICIENT-LLM-REA-SONING-VIA-STRUCTURED-INPUT-INFORMATION/" title="FOCUSED CHAIN OF THOUGHT EFFICIENT LLM REA SONING VIA STRUCTURED INPUT INFORMATION">
                        <span class="hidden-mobile">FOCUSED CHAIN OF THOUGHT EFFICIENT LLM REA SONING VIA STRUCTURED INPUT INFORMATION</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
